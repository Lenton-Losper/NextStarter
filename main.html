<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Next Starter - Co-Founder Matching & Early Traction Platform</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Find Your Perfect Co-Founder & Build Early Traction</h1>
      <p>Connect with skilled professionals, validate your ideas, and grow your startup with Next Starter.</p>
      <a href="#waitlist" class="cta-button" id="open-waitlist-form">Join the Waitlist</a>
    </div>
  </section>

  <!-- Waitlist Form Popup -->
  <div id="waitlist-form-popup" class="popup">
    <div class="popup-content">
      <span class="close-btn" id="close-waitlist-form">&times;</span>
      <h2>Only 12 Spaces Available</h2>
      <p>Add your name to the Waitlist</p>
      <form id="waitlist-form">
        <div class="form-group">
          <label for="first-name">First Name *</label>
          <input type="text" id="first-name" name="first-name" required minlength="2" maxlength="50">
        </div>
        <div class="form-group">
          <label for="last-name">Last Name *</label>
          <input type="text" id="last-name" name="last-name" required minlength="2" maxlength="50">
        </div>
        <div class="form-group">
          <label for="email">Email *</label>
          <input type="email" id="email" name="email" required>
        </div>
        <button type="submit" class="cta-button">Start</button>
      </form>
    </div>
  </div>

  <!-- Features Section -->
  <section class="features">
    <div class="container">
      <h2>Why Choose Next Starter?</h2>
      <div class="feature-grid">
        <div class="feature">
          <i class="fas fa-users fa-3x"></i>
          <h3>Skill-Based Matching</h3>
          <p>Find co-founders with the exact skills your startup needs.</p>
        </div>
        <div class="feature">
          <i class="fas fa-briefcase fa-3x"></i>
          <h3>Portfolio Viewing</h3>
          <p>Evaluate potential co-founders' past work to ensure the right fit.</p>
        </div>
        <div class="feature">
          <i class="fas fa-chart-line fa-3x"></i>
          <h3>Early Traction Tools</h3>
          <p>Build waiting lists and validate your idea before launch.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works">
    <div class="container">
      <h2>How It Works</h2>
      <div class="steps">
        <div class="step">
          <i class="fas fa-user-plus fa-3x"></i>
          <h3>Create Profile</h3>
          <p>Showcase your startup idea and specify co-founder requirements.</p>
        </div>
        <div class="step">
          <i class="fas fa-handshake fa-3x"></i>
          <h3>Get Matched</h3>
          <p>Our algorithm connects you with the right co-founders.</p>
        </div>
        <div class="step">
          <i class="fas fa-project-diagram fa-3x"></i>
          <h3>Collaborate</h3>
          <p>Work on trial projects to test the partnership.</p>
        </div>
        <div class="step">
          <i class="fas fa-rocket fa-3x"></i>
          <h3>Launch</h3>
          <p>Build early traction and grow your startup.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Waitlist CTA Section -->
  <section id="waitlist" class="waitlist-cta">
    <div class="container">
      <h2>Ready to Find Your Co-Founder?</h2>
      <p>Join the Next Starter Waitlist and start building your dream team today.</p>
      <a href="#waitlist" class="cta-button" id="open-waitlist-form-2">Join the Waitlist</a>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; 2023 Next Starter. All rights reserved.</p>
    </div>
  </footer>

  <!-- Firebase Integration -->
  <script type="module">
    // Import Firebase functions
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
    import { getFirestore, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-firestore.js";

    // Your Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBhnXfxrd5Ktk-GuUcwx13ZMY6bhBao1Uw",
      authDomain: "next-starter-28a0f.firebaseapp.com",
      projectId: "next-starter-28a0f",
      storageBucket: "next-starter-28a0f.firebasestorage.app",
      messagingSenderId: "899672520926",
      appId: "1:899672520926:web:c2ad8aa651ab7592dd2a4f",
      measurementId: "G-QMKXHKWS1G"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Get references to the popup and buttons
    const popup = document.getElementById("waitlist-form-popup");
    const openButton1 = document.getElementById("open-waitlist-form");
    const openButton2 = document.getElementById("open-waitlist-form-2");
    const closeButton = document.getElementById("close-waitlist-form");

    // Open the popup when the "Join the Waitlist" button is clicked
    openButton1.addEventListener("click", (e) => {
      e.preventDefault();
      popup.style.display = "block";
    });

    openButton2.addEventListener("click", (e) => {
      e.preventDefault();
      popup.style.display = "block";
    });

    // Close the popup when the close button is clicked
    closeButton.addEventListener("click", () => {
      popup.style.display = "none";
    });

    // Close the popup when clicking outside the form
    window.addEventListener("click", (e) => {
      if (e.target === popup) {
        popup.style.display = "none";
      }
    });

    // Validate email format
    const validateEmail = (email) => {
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return regex.test(email);
    };

    // Handle form submission
    const form = document.getElementById("waitlist-form");
    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      // Get form data
      const firstName = document.getElementById("first-name").value.trim();
      const lastName = document.getElementById("last-name").value.trim();
      const email = document.getElementById("email").value.trim();

      // Validate form data
      if (!firstName || !lastName || !email) {
        alert("Please fill out all fields.");
        return;
      }

      if (!validateEmail(email)) {
        alert("Please enter a valid email address.");
        return;
      }

      // Check if the user is already in the waitlist
      try {
        const q = query(collection(db, "waitlist"), where("email", "==", email));
        const querySnapshot = await getDocs(q);

        if (!querySnapshot.empty) {
          alert("You're already on the waitlist!");
          popup.style.display = "none";
          form.reset();
          return;
        }

        // Add data to Firestore
        const docRef = await addDoc(collection(db, "waitlist"), {
          firstName: firstName,
          lastName: lastName,
          email: email,
          timestamp: new Date(),
        });

        console.log("Document written with ID: ", docRef.id);

        // Show success message
        alert(`Thank you, ${firstName} ${lastName}! You've been added to the waitlist.`);
        popup.style.display = "none";
        form.reset();
      } catch (error) {
        console.error("Error adding document: ", error);
        alert("An error occurred. Please try again.");
      }
    });
  </script>
</body>
</html>